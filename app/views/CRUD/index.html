#{extends 'CRUD/layout.html' /} #{set title:messages.get('crud.title')
/}

<div id="crudIndex">

  <h2>&{'crud.index.title'}</h2>


  <table>
    <thead>
      <tr>
        <th>&{'crud.index.objectType'}</th>
        <th width="20%">&{'crud.index.action'}</th>
      </tr>
    </thead>
    <tbody>
      #{crud.types}
      <tr>
        <td><a href="${type.listAction}">&{type.name}</a></td>
        <td class="crudNew"><a href="${type.blankAction}">&{'crud.index.add',
            type}</a></td>
      </tr>
      #{/crud.types}
    </tbody>
  </table>

  <h3>Import Files</h3>
  <div class="objectForm">
  #{form @admin.DataSets.doImport(), id:'importForm', enctype:'multipart/form-data'} 
    #{field 'setId'}
      <div class="crudField">
        <label for="${field.id}">DataSet</label>
        <select id="${field.id}" name="${field.name}">
          #{list items:dataSets, as:'set'}
              <option value="${set.id}">${set}</option>
          #{/list}
        </select> 
      </div>
    #{/field} 
    #{field 'zip'}
      <div class="crudField">
        <label for="${field.id}"> zip file </label> 
        <input id="${field.id}" type="file" name="${field.name}"/>
      </div>
    #{/field}
    #{field 'tag'}
      <div class="crudField">
        <label for="${field.id}">Flickr Image Tag</label> 
        <input id="${field.id}" type="text" name="${field.name}"/>
      </div>
    #{/field}
    #{field 'attributeIds' }
      <div class="crudField">
        <label for="${field.id}"> Attributes </label>
        <select id="${field.id}" name="${field.name}" multiple="yes">
        #{list items:attributes, as:'a'}
          <option value="${a.id}">${a}</option>
        #{/list}
        </select>
      </div>
    
    #{/field}
  
    <p class="crudButtons">
      <input type="submit" value="Submit"/>
    </p> 
  #{/form} 
  </div>
  <br />
</div>
